# section02-03 실습용 백엔드 서버 세팅

1.  실습용 백엔드 서버 링크 : [https://github.com/winterlood/onebite-books-server
2.  Supabase(DB) 링크 : [https://supabase.com/
3.  백엔드 API 문서 확인 : http://localhost:12345/ap
4.  DB 조회 : npx prisma studio
    └── localhost:5555

## 세팅 순서

1. 경로
   └── C:\Users\HyeJo\OneDrive\문서\onebite-books-server-main

2. -Supabase Git으로 로그인  
    *Supabase에서는 원하는 DB 총 2개까지 무료로 만들수 있음
   *Organization 정보

   - Organization: onbite-books_2026
   - Project name: onebite-books_2026
   - Password : ----
     - 비밀번호 변경은 좌측 Program settings -> 좌측 DataBase -> Reset database password
       - 비밀번호 노출 안되게 각별히 주의하기
   - Region : Northeast Asia(Seoul)

   - Connection String 주소값 가져오기
     - 상단 Connect 버튼 클릭
     - ORMs 클릭후 환경변수 파일 복수
     - 1경로의 최상단에 .env 파일 만들어주고 환경변수 붙여놓기
       - 수파베이스 데이터베이스 생성할때 만들었던 Password를 [YOUR-PASSWORD]에 집어넣기
         ex) DATABASE_URL="postgresql://postgres.bfjpcydclygejhplekdc:패스워드@aws-1-ap-northeast-2...
         └── BE 서버가 가동을 시작할 때 이 환경변수들을 읽어 수파베이스 DB 연결을 시도함

3. BE 서버 가동을 위한 의존성 설치
   - BE 서버 경로 접속 C:\Users\HyeJo\OneDrive\문서\onebite-books-server-main>
   * npm i
   * npx prisma db push
     └──(Generate Prisma Client 뜨면서 DB 초기화 진행 완료)
4. SupaBase 초기데이터 셋팅

   - 대시보드에 있는 해당 프로젝트 클릭 (onbite-books_2026)
   - 좌측 위에서 2번 아이콘 (TableEditor) 클릭
   - Book과 Review 테이블이 자동 생성됨을 확인 (DB 초기화할때 자동으로 넣게 설정됨)
   - 테이블 초기데이터 셋팅

     - C:\Users\HyeJo\OneDrive\문서\onebite-books-server-main>

     * npm run seed (기초 데이터 자동으로 넣기)

   - Table Editor에서 초기 데이터 들어왔는지 확인

5. build 와 start진행

   - npm run build
   - npm run start
   - localhost 실행 확인

6. api 문서 확인
   - http://localhost:12345/api
7. supabase DB의 모든 테이블 조회
   - npx prisma studio
   * localhost:5555

## 참고사항

Supabase DB에 일주일동안 접근하지않게 되면 자동으로 퍼즈됨
즉, API요청을 일주일에 한번이상은 해야함

## Supabase 중단되었을때 복구 시키는 방법

- Supabase에 만든 프로젝트 클릭
- Restore Project 버튼 클릭 (프로젝트 복구됨) - 소요시간 10분 ~ 1시간
