# section04-03 레이아웃 설정하기

## 레이아웃 설정하기

- App Router에서 page이름을 갖는 파일이 페이지 역할을 한것처럼
  layout 이름을 갖는 파일이 레이아웃 역할을 함
- 특정 폴더 밑에 layout.tsx 파일을 만들게 되면
  폴더 안에 있는 모든 페이지 컴포넌트에 다 똑같이 적용되는 레이아웃을 정의한다
- ⭐layout 컴포넌트는 자동으로 children 이름을 가진 props로
  현재 페이지 컴포넌트가 전달이 되기때문에, 레이아웃 컴포넌트의 리턴문 안에 페이지를 배치할곳을 직접 설정해 줘야함

  ```tsx
  import { ReactNode } from "react";

  export default function Layout({ children }: { children: ReactNode }) {
    return (
      <>
        <h1>임시 서치바</h1>
        {children}
      </>
    );
  }
  ```

## 경로에 따른 레이아웃

```bash
app/
└─ search/
   ├─ setting/
   │  └─ page.tsx
   ├─ layout.tsx
   └─ page.tsx

```

- ⭐ /search 경로로 시작하는 모든 페이지의 레이아웃으로 적용됨
- ~/search/settting 경로에 해당하는 페이지도 레이아웃이 적용됨

### 랜더링 순서

- 서치 페이지는 레이아웃 컴포넌트가 먼저 렌더링 되고나서
  레이아웃 컴포넌트 안에 children으로 페이지 컴포넌트가 렌더링됨

## 중첩 layout

```bash
app/
└─ search/
   ├─ page.tsx
   ├─ layout.tsx --> 중첩
   └─ setting/
      └─ page.tsx
      └─ layout.tsx --> 중첩


```

- 레이아웃이 자동으로 중첩되어서 적용됨
- 따라서 App Router에서는 레이아웃 파일을 적절한 위치에 배치시켜 주는것만으로도
  아주 쉽게 중첩 레이아웃을 구현할 수 있음

### 랜더링 순서

- search폴더 아래에 있는 /search/layout.tsx 적용 먼저되고,
  그이후에 /search/setting/layout.tsx 중첩이 되어 적용이 된 다음에
  마지막으로 페이지 컴포넌트가 렌더링됨

## app/layout.tsx

- app/layout.tsx는 Next.js앱의 모든 페이지에 공통적으로 적용이 되는 글로벌 레이아웃이다
- 모든 페이지에 다 동일하게 적용되는 가장 기초적인 레이아웃으로서
  HTML 페이지의 기초 틀을 유지하도록 만들기 때문에 필수적으로 Next.js 앱에 존재해야 된다.

## 공통된 경로로 시작하지 않는 페이지에 동일한 레이아웃 설정 ≒ **`라우트 그룹`** 사용하기

- 실습진행 : book 페이지 제외하고 search , index 페이지에만 공통적으로 적용되는 레이아웃

```bash
app/
└─ (with-searchbar)

```

- 폴더이름이 소괄호 () 로 감싸진 폴더를 라우트 그룹이라고 한다.
- 이렇게 폴더를 생성해주면 경로에 아무런 영향을 미치지 않는 폴더가 됨
- 즉 라우트 그룹은 경로에 아무런 영향을 주지 않으면서, 각기 다른 경로를 갖는 페이지 파일들을
  하나의 폴더 안에 묶어둘 수 있는 기능
- 경로상에 영향을 미치지 않으면서 레이아웃만 동일하게 적용 할 수 있음

## 라우트 그룹 이용해서 특정 페이지들만 공통 레이아웃 적용하기

```bash
app/
└─ (with-searchbar)/
   ├─ layout.tsx <- 공통 레이아웃
   ├─ page.tsx
   ├─ page.module.css
   └─ search/
      └─ page.tsx

```

- (with-searchbar)밑에있는 layout.tsx는
  index페이지에 해당하는 page.tsx와
  search페이지에 해당하는 search/page.tsx의 공통 레이아웃이 됨
